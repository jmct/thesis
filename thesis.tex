\documentclass[justified, twoside, a4paper, symmetric]{tufte-book}

\title{Implicit Parallelism: Trying Again}

\author{Jos\'{e} Manuel Calder\'{o}n Trilla}

\usepackage{graphicx}
\usepackage{caption}
\usepackage{listings}
\usepackage{mathtools}
\usepackage{fancyvrb}
\usepackage{hyperref}
\usepackage{microtype}
\usepackage{breakcites}
%\usepackage{subcaption}
\usepackage{alltt}
\usepackage{color}

%%%% TODO Package %%%%
\usepackage[colorinlistoftodos,prependcaption,textsize=small]{todonotes}
\usepackage{xargs}
\usepackage{amsmath}
\usepackage{fancyvrb}
\usepackage{latexsym}
\usepackage{textcomp}
\usepackage{cite}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{url}
\usepackage{siunitx}
\usepackage{etoolbox}


\newcommandx{\tocite}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{Cite: #2}}
\newcommandx{\todoinline}[1]{\todo[inline]{#1}}

\hypersetup{
 colorlinks,
 citecolor=Red,
 linkcolor=Black,
 urlcolor=Blue
}

% Tufte-book imports natbib, so we can use \citet and \citep without
% importing the package
%\usepackage[round]{natbib}

\newcommand{\blankpage}{\newpage\hbox{}\thispagestyle{empty}\newpage}

%This is the stuff for semantic equations%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\robustify\bfseries
\newsavebox{\sembox}
\newlength{\semwidth}
\newlength{\boxwidth}

\newcommand{\Sem}[1]{%
\sbox{\sembox}{\ensuremath{#1}}%
\settowidth{\semwidth}{\usebox{\sembox}}%
\sbox{\sembox}{\ensuremath{\left[\usebox{\sembox}\right]}}%
\settowidth{\boxwidth}{\usebox{\sembox}}%
\addtolength{\boxwidth}{-\semwidth}%
\left[\hspace{-0.3\boxwidth}%
\usebox{\sembox}%
\hspace{-0.3\boxwidth}\right]%
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% Sometimes we want to give a definition; this is how we do that
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\defineword}[2]{%
\begin{description}%
    \item{\textbf{#1}} \hfill \\%
        {#2}%
\end{description}%
}

\newcommand{\sigval}[1]{\bfseries #1}

%% Tufte-LaTeX doesn't show subsections in the ToC or number the sections
%% these two commands fix each one respectively
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\setcounter{tocdepth}{1}
\setcounter{secnumdepth}{2}

\begin{document}

\frontmatter

%\blankpage

\maketitle

\tableofcontents
\listoffigures
\listoftables

%% Now we start the whole thing off!
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\mainmatter

\chapter{Introduction}

    \input{Intro/Preamble.tex}
    
    \section{Lazy Languages and Parallelism}
    \input{Intro/Introduction.tex}

    \section{Overview}
    \input{Intro/Overview.tex}

    \section{Thesis Roadmap}

\chapter{Parallelism in a Functional Language}

    \input{Background/Preamble.tex}

    \section{Functional Programming and Parallelism}
    \input{Background/parFuncProg.tex}
    
    %Review of Graph Reduction. Needs to focus more on the G-Machine and our
    %implementation. Will we convert to spineless G-Machine?
    \section{Graph Reduction}
    \input{Background/funcProgGraphRedctn.tex}

\chapter{The Discovery and Placement of Safe Parallelism}

    \input{Static-Analysis/Preamble.tex}

    \section{Two-Point Forward Analysis}
    \label{sec:twoPoint}

    \section{Four-Point Forward Analysis}
    \label{sec:fourPoint}

    \section{Projection-Based Analysis}
    \label{sec:projections}
    \input{Static-Analysis/Projections.tex}


    \section{Expressing Need, Strategically}
    \label{sec:derivations}
    \input{Static-Analysis/StrategyDerivation.tex}
    
\chapter{Experimental Platform}

    \input{Platform/Preamble.tex}

    \section{Defunctionalisation (or Higher-Order Specialisation)}
    \label{sec:defunctionalisation}
    \input{Platform/Defunctionalisation.tex}

    \section{An Implementation of Hinze's Projection-Based Analysis}
    \label{sec:hinzeImplementation}
    
    \section{Placement of Top-level Parallelism}
    \label{sec:parPlacement}
    \input{Platform/Oracles.tex}

    \section{Keeping Track of all the Threads}
    \label{sec:logging}
    \input{Platform/Logging.tex}

    \section{Trying for \texttt{par}: Switching off Parallelism}
    \label{sec:parSwitching}
    \input{Platform/Switching.tex}

\chapter{Run-time Directed Search}

    This chapter will talk about the work on blind-search with Simon.

    \section{Introduction}
    \input{Blind/Intro.tex}

    \section{Implicit Parallelism in Functional Languages}
    \label{sec:blind-ParFunc}
    \input{Blind/ParFunc.tex}

    \section{Experimental Setup and Results}
    \label{sec:blind-Results}
    \input{Blind/Results.tex}

    \section{Conclusions of Bitstring Searching}
    \label{sec:blind-Conclusion}
    \input{Blind/Conclusions.tex}

\chapter{Profile Directed Search}

    New things here.
    \label{sec:informed-search}
    \input{Informed/iip.tex}


\chapter{Future Directions}

    \section{Specialising on \underline{\hspace{2cm}}}

    \section{Hybrid Approaches}

        We have presented our work as being fully automated and requiring no
        intervention by the programmer but if we loosen that requirement on
        our technique we may be able to find a fruitful `middle-ground' between
        fully automated parallelism and programmer effort.

    \section{Automating Pipeline Parallelism}


\chapter{Conclusions}

    And.... we're done.

\listoftodos[Notes]

\backmatter

\bibliography{literature}
\bibliographystyle{plainnat}

\end{document}
